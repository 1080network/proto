service:
  title: "Service called by Financial Institutions"
  version: "0.1"
  description: >-
    <p>The operations in this service allow the Financial Institution to register their users and
    the user's instruments (accounts).  In addition there are operations to update, retrieve, search
    and delete those users and instruments. The FI can retrieve/search Organizations to retrieve
    information about them that is not passed via FundsObtain or FundsReturn. Finally the FI can
    provision it's own Payment Tokens which it can distribute to it's own users.</p>
    <p>The FI starts by authenticating themselves after which they can call the other operations in
    this service. At a minimum, the FI will need to call RegisterUser and RegisterInstrument for
    each user and instrument they want to make available for their users at 1080. For both Users and
    Instruments the FI can retrieve, update and remove them.</p>
    <p>When 1080 calls the FI with either FundsObtain or FundsReturn 1080 will include the
    organizationKey and the specific category being used for this request. If the FI wants to get
    more information about the organization (e.g. name, all categories, and it's address) they can
    use the GetOrganization and SearchOrganization calls.</p>
  contact:
    name: "1080"
    url: "https://dev.1080payments.com"
    email: "info@1080payments.com"

operations:
  - rpc: "Authenticate"
    operationId: "Authenticate"
    post: "/ten80/authenticate"
    description: >-
      <p>Most 1080 services require the caller to authenticate themselves. This operation allows the
      caller to do so</p>
    tags: "authenticate"

  - rpc: "GetFI"
    operationId: "Get FI"
    post: "/fi/fi/get"
    description: >-
      <p>Retrieves the details of the FI at 1080.</p>
    tags: "user"
    security: "Authenticate"

  - rpc: "RegisterUser"
    operationId: "Register User"
    post: "/fi/user/register"
    description: >-
      <p>Called when the Financial Institution wants to register one of their users for 1080. Note that
      this does only the user and not the instrument (account).</p>
    tags: "user"
    security: "Authenticate"
  - rpc: "GetUser"
    operationId: "Get User"
    post: "/fi/user/get"
    description: >-
      <p>Retrieve a user based on it's key.</p>
    tags: "user"
    security: "Authenticate"
  - rpc: "UpdateUser"
    operationId: "Update User"
    post: "/fi/user/update"
    description: >-
      <p>Update the User demographic data held at 1080.</p>
    tags: "user"
    security: "Authenticate"
  - rpc: "SearchUser"
    operationId: "Search User"
    post: "/fi/user/search"
    description: >-
      <p>Searches for Users held at 1080..</p>
    tags: "user"
    security: "Authenticate"
  - rpc: "RemoveUser"
    operationId: "Remove User"
    post: "/fi/user/remove"
    description: >-
      <p>Remove a User from 1080. Typically called when a User ends their relationship with the FI.</p>
    tags: "user"
    security: "Authenticate"

  - rpc: "RegisterInstrument"
    operationId: "Register Instrument"
    post: "/fi/instrument/register"
    description: >-
      <p>Called to register a Users instrument (account) for use at 1080. This requires a user to
      already have been registered.</p>
    tags: "instrument"
    security: "Authenticate"
  - rpc: "GetInstrument"
    operationId: "Get Instrument"
    post: "/fi/instrument/get"
    description: >-
      <p>Retrieve an instrument based on it's key.</p>
    tags: "instrument"
    security: "Authenticate"
  - rpc: "RemoveInstrument"
    operationId: "Remove Instrument"
    post: "/fi/instrument/remove"
    description: >-
      <p>Remove an instrument (and any FI or Partner Payment Tokens) from 1080. This renders any
      existing Payment Tokens as inoperative.</p>
    tags: "instrument"
    security: "Authenticate"
  - rpc: "SearchInstrument"
    operationId: "Search Instrument"
    post: "/fi/instrument/search"
    description: >-
      <p>Like GetInstrument, can be used to retrieve Instruments based on the criteria in the
      request.</p>
    tags: "instrument"
    security: "Authenticate"

  - rpc: "GetOrganization"
    operationId: "Get Organization"
    post: "/fi/organization/get"
    description: >-
      <p>Retrieve an organization based on it's key.</p>
    tags: "organization"
    security: "Authenticate"
  - rpc: "SearchOrganization"
    operationId: "Search Organization"
    post: "/fi/organization/search"
    description: >-
      <p>Like GetOrganization, can be used to retrieve Organizations based on the criteria in the
      request.</p>
    tags: "organization"
    security: "Authenticate"

  - rpc: "ProvisionFIPaymentToken"
    operationId: "Provision Payment Token"
    post: "/fi/payment-token/provision"
    description: >-
      <p>Used to create a payment token that can be given to the FI's users in order to transact at
      Partners (merhants) that support 1080.</p>
    tags: "payment-token"
    security: "Authenticate"
  - rpc: "RemoveFIPaymentToken"
    operationId: "Remove Payment Token"
    post: "/fi/payment-token/remove"
    description: >-
      <p>Used to remove an existing Payment Token from 1080 rendering it inoperable.</p>
    tags: "payment-token"
    security: "Authenticate"
  - rpc: "SearchFIPaymentToken"
    operationId: "Search Payment Token"
    post: "/fi/payment-token/search"
    description: >-
      <p>Searches for Payment Tokens by criteria.</p>
    tags: "payment-token"
    security: "Authenticate"

  - rpc: "CreateServiceAccount"
    operationId: "Create Service Account"
    post: "/fi/service-account/create"
    description: >-
      Create a service account that it used by a person or system to authenticate against 1080.
    tags: "service-account"
    security: "Authenticate"
  - rpc: "GetServiceAccount"
    operationId: "Get Service Account"
    post: "/fi/service-account/get"
    description: >-
      Retrieve a service account based on its key.
    tags: "service-account"
    security: "Authenticate"
  - rpc: "UpdateServiceAccount"
    operationId: "Update Service Account"
    post: "/fi/service-account/update"
    description: >-
      <p>Update a service account based on its key.</p>
    tags: "service-account"
    security: "Authenticate"
  - rpc: "SearchServiceAccount"
    operationId: "Search Service Account"
    post: "/fi/service-account/search"
    description: >-
      <p>Like GetServiceAccount, can be used to retrieve Service Accounts based on the criteria in the
      request.</p>
    tags: "service-account"
    security: "Authenticate"

  - rpc: "Ping"
    operationId: "Ping"
    post: "/admin/ping"
    description: >-
      <p>An operation to ping the server to ensure it's up and running and that the connection is good.</p>
    tags: "funds"
